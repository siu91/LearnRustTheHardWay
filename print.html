<!DOCTYPE HTML>
<html lang="zh-CN" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>笨方法学 Rust（Learn Rust the hard way）</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">前言</a></li><li class="chapter-item expanded affix "><a href="0-foreword/rust-world.html">Rust 世界</a></li><li class="chapter-item expanded affix "><a href="0-foreword/note.html">学习资料</a></li><li class="chapter-item expanded "><a href="1-into-rust/intro.html"><strong aria-hidden="true">1.</strong> 走进 Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1-into-rust/install.html"><strong aria-hidden="true">1.1.</strong> 安装 Rust 环境</a></li><li class="chapter-item expanded "><a href="1-into-rust/ide.html"><strong aria-hidden="true">1.2.</strong> 安装 IDE：VS Code</a></li><li class="chapter-item expanded "><a href="1-into-rust/cargo.html"><strong aria-hidden="true">1.3.</strong> 包管理：Cargo</a></li><li class="chapter-item expanded "><a href="1-into-rust/hello-world.html"><strong aria-hidden="true">1.4.</strong> Hello world!</a></li></ol></li><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">2.</strong> 其它相关知识</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">2.1.</strong> TCP、HTTP</a></li><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">2.2.</strong> 操作系统</a></li><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">2.3.</strong> 算法和数据结构</a></li><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">2.4.</strong> Rust 前端：WASM</a></li><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">2.5.</strong> Yew</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">笨方法学 Rust（Learn Rust the hard way）</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/siu91/LearnRustTheHardWay" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2><a class="header" href="#笨方法学-rust-learn-rust-the-hard-way" id="笨方法学-rust-learn-rust-the-hard-way">笨方法学 Rust （Learn Rust The Hard Way）</a></h2>
<blockquote>
<p>有几个问题可能需要先自我总结一下。</p>
</blockquote>
<h2><a class="header" href="#为什么开始学-rust-" id="为什么开始学-rust-">为什么开始学 Rust ？</a></h2>
<p>   2019 年疫情😷刚开始时，有一段时间开始思考技术上的需要体系化的深入，但是磨磨蹭蹭一两年还是没有任何”建树“，还是那个 CURD boy，总想改变又没有任何改变；本职工作上虽然有一些沉淀：包括团队、Java 后端、架构设计、CI&amp;Devops ，但是感觉还是需要认真回头再学学下编程语言。</p>
<p>   2020 年开始对 k8s 及相关纳管云平台的调研，特别是关注到 KubeSphere 这个项目，开始对想着做一些 Patch 工作，能更深入的了解 k8s、Cloud Native、Saas，但是还是受限于技能，对 go 等并不熟悉，只参与了一些文档 SIG 的工作，提提 ISSUE；去年（2021）开始，有一段时间学习了 go 的一些知识，并没有坚持很长时间，下半年开始对数仓的选型调研，了解到 TiDB/TiKV、Databend，才真正开始关注 Rust。</p>
<p>为什么开始学 Rust ？</p>
<ul>
<li>首先可能是一个 flag</li>
<li>除了工作之外，想选一个兴趣的语言</li>
<li>开源社区的影响，很多关注的项目是用 Rust 开发的</li>
<li>也许这也是一个“饭碗”🥣</li>
<li>为什么不是 go，大概是因为 GC </li>
</ul>
<h2><a class="header" href="#笨方法" id="笨方法">笨方法？</a></h2>
<ul>
<li>基础弱；除了熟悉 Java 平常接触的也只有 Shell、Python，不熟悉 Go、C++</li>
<li>还是一个 flag；注定要走一个 Hard way：希望能坚持 ✊</li>
<li>从基础到体系；站在一个初学者角度，摒弃之前的语言先入为主的影响，从最基础开始学习</li>
</ul>
<h2><a class="header" href="#这是一本书" id="这是一本书">这是一本书？</a></h2>
<p>   当然这不是一本书，可能更多是一个笔记📒；但确实会花很大的心思去写一些 Demo、记录一些学习的过程。这些都会在这里分享。</p>
<p>   特别相信一句话：There is a big difference between knowing the way and walking the way。</p>
<p>   所以还是需要自己走一遍。</p>
<h1><a class="header" href="#rust-世界" id="rust-世界">Rust 世界</a></h1>
<h2><a class="header" href="#rust-的发展历程" id="rust-的发展历程">Rust 的发展历程</a></h2>
<p>   Rust是由Mozilla主导开发的通用、编译型编程语言。设计准则为“安全、并发、实用”，支持函数式、并发式、过程式以及面向对象的程序设计风格。</p>
<p>   Rust语言原本是Mozilla员工Graydon Hoare的私人计划，而Mozilla于2009年开始赞助这个计划，并且在2010年首次公开。也在同一年，其编译器源代码开始由原本的OCaml语言转移到用Rust语言，进行bootstrapping工作，称做“rustc”，并于2011年实际完成。这个可自我编译的编译器在架构上采用了LLVM做为它的后端。</p>
<p>   第一个有版本号的Rust编译器于2012年1月发布。Rust 1.0是第一个稳定版本，于2015年5月15日发布。</p>
<p>   Rust在完全开放的情况下开发，并且相当欢迎社区的反馈。在1.0稳定版之前，语言设计也因为透过撰写Servo网页浏览器排版引擎和rustc编译器本身，而有进一步的改善。它虽然由Mozilla资助，但其实是一个共有项目，有很大部分的代码是来自于社区的贡献者。</p>
<p>   2021年 2 月 9 日，Rust 基金会宣布成立，由 AWS、华为、谷歌、微软和 Mozilla 联合成立，并承诺在两年的时间里，投入 100 万美元的预算，用于 Rust 项目的开发、维护和推广。</p>
<h2><a class="header" href="#rust-语言的特点" id="rust-语言的特点">Rust 语言的特点</a></h2>
<ul>
<li>
<p>高性能 - Rust 速度惊人且内存利用率极高。由于没有运行时和垃圾回收，它能够胜任对性能要求特别高的服务，可以在嵌入式设备上运行，还能轻松和其他语言集成。</p>
</li>
<li>
<p>可靠性 - Rust 丰富的类型系统和所有权模型保证了内存安全和线程安全，让您在编译期就能够消除各种各样的错误。</p>
</li>
<li>
<p>生产力 - Rust 拥有出色的文档、友好的编译器和清晰的错误提示信息， 还集成了一流的工具 —— 包管理器和构建工具， 智能地自动补全和类型检验的多编辑器支持， 以及自动格式化代码等等。</p>
</li>
</ul>
<h2><a class="header" href="#cjava--rust" id="cjava--rust">C++、Java &amp; Rust</a></h2>
<p>...
你看C++就很相信人类，它要求人类自己把自己new出来的东西给delete掉。</p>
<p>C++：“这点小事我相信你可以的！”</p>
<p>人类：“没问题！包在我身上！”然后呢，内存泄漏、double free、野指针满世界飘……
C++：“……”</p>
<p>Java选择不相信人类，但替人类把事办好。</p>
<p>Java：“别动，让我来，我有gc！”</p>
<p>人类：“你怎么做事这么慢呀？你怎么还stop the world了呀？你是不是不爱我了呀？</p>
<p>”Java：“……”</p>
<p>Rust发现唯一的办法就是既不相信人类，也不惯着人类。</p>
<p>Rust：“按老子说的做，不做就不编译！”</p>
<p>人类：“你反人类！”</p>
<p>Rust：“滚！”</p>
<pre><code class="language-txt">作者：左之了
链接：https://www.zhihu.com/question/328066906/answer/708085473
来源：知乎
</code></pre>
<h2><a class="header" href="#rust-学习曲线" id="rust-学习曲线">Rust 学习曲线</a></h2>
<p>学习曲线的高低，依个人水平不同而不同。以下罗列了不同基础学习 Rust 应该注意的地方。</p>
<ul>
<li>完全零基础的开发者：掌握计算机基础体系知识结构，理解Rust语言和硬件/OS层的抽象，理解Rust语言核心概念、以及它的抽象模式，选择Rust语言的某个适用领域进行实操训练，通过实践来提升Rust语言的熟练度和理解深度，同时掌握领域知识。</li>
<li>有C语言基础：由于C语言开发者对高级语言的抽象不是很理解，所以着重了解掌握Rust所有权机制，包括所有权的语义，生命周期和借用检查。了解Rust语言的抽象模式，主要是类型和trait；以及Rust本身的的OOP和函数式语言特性。</li>
<li>有C++基础：C++开发者对于Rust语言的所有权有很好的理解能力，主要精力放在Rust的抽象模式和函数式语言特性上。</li>
<li>有Java/Python/Ruby基础：着重理解攻克Rust所有权机制、抽象模式、函数式编程语言特性。</li>
<li>有Go基础：Go语言开发者比较容易理解Rust的类型和trait抽象模式，但Go也是GC语言，所以所有权机制和函数式语言特性是他们的学习重点。</li>
<li>有Haskell基础：Haskell系的开发者对Rust语言函数式特性能很好的理解，主要攻克所有权机制和OOP语言特性。</li>
</ul>
<h2><a class="header" href="#rust-生态" id="rust-生态">Rust 生态</a></h2>
<p>   Rust 生态日趋丰富，很多基础库和框架都会以 包（crate） 的方式发布到 <a href="https://crates.io">crates.io</a> ，截止目前，crates.io 上面已经有 <strong>78362</strong> 个 crate，总下载量已经达到 <strong>14,058,075,757</strong>次。</p>
<img src="0-foreword/assets/crates-io.png" alt="crates.io" style="zoom:50%;" />
<h3><a class="header" href="#rust-的应用" id="rust-的应用">Rust 的应用</a></h3>
<p>Rust 语言可以用于开发：</p>
<ul>
<li>传统命令行程序 - Rust 编译器可以直接生成目标可执行程序，不需要任何解释程序。</li>
<li>Web 应用 - Rust 可以被编译成 WebAssembly，WebAssembly 是一种 JavaScript 的高效替代品。</li>
<li>网络服务器 - Rust 用极低的资源消耗做到安全高效，且具备很强的大规模并发处理能力，十分适合开发普通或极端的服务器程序。</li>
<li>嵌入式设备 - Rust 同时具有JavaScript 一般的高效开发语法和 C 语言的执行效率，支持底层平台的开发。</li>
</ul>
<p>crates.io 上的一些统计信息：</p>
<pre><code class="language-stat">命令行工具 （3133 crates）
no-std 库 （2778 crates）
开发工具（测试/ debug/linting/性能检测等， 2652 crates）
Web 编程 （1776 crates）
API 绑定 （方便 Rust 使用的特定 api 包装，比如 http api、ffi 相关api等，1738 crates）
网络编程 （1615 crates）
数据结构 （1572 crates）
嵌入式开发 （1508 crates）
加密技术（1498 crates）
异步开发（1487 crates）
算法 （1200 crates）
科学计算（包括物理、生物、化学、地理、机器学习等，1100 crates）
</code></pre>
<p>   除此之外，还有 WebAssembly 、编码、文本处理、并发、GUI、游戏引擎、可视化、模版引擎、解析器、操作系统绑定 等其他分类，也有不少库。</p>
<h3><a class="header" href="#基础库和工具链" id="基础库和工具链">基础库和工具链</a></h3>
<p>常用知名基础库和工具链</p>
<p>其中已经涌现出不少优秀的基础库，都可以在 http://crates.io 首页里看到。这里罗列出一些：</p>
<pre><code class="language-txt">序列化/反序列化：Serde
命令行开发：clap / structopt
异步/Web/网络开发： tokio / tracing /async-trait / tower / async-std tonic / actix-web /smol / surf / async-graphql / warp /tungstenite / encoding_rs / loom / Rocket
FFi 开发： libc / winapi / bindgen / pyo3 / num_enum / jni / rustler_sys/ cxx / cbindgen / autocxx-bindgen
API 开发: jsonwebtoken / validator / tarpc / nats / tonic/ protobuf / hyper / httparse / reqwest / url
解析器：nom / pest / csv / combine / wasmparser / ron / lalrpop
密码学： openssl / ring / hmac / rustls / orion / themis / RustCrypto
WebAssembly: wasm-bindgen/ wasmer / wasmtime / yew
数据库开发： diesel / sqlx / rocksdb / mysql / elasticsearch / rbatis
并发：crossbeam / parking_lot / crossbeam-channel / rayon / concurrent-queue/ threadpool / flume
嵌入式开发：embedded-hal / cortex-m / bitvec / cortex-m-rtic / embedded-dma / cross / Knurling Tools
测试：static_assertions / difference / quickcheck / arbitrary / mockall / criterion / proptest / tarpaulin/ fake-rs
多媒体开发： rust-av/ image/ svg / rusty_ffmpeg/ Symphonia/
游戏引擎和基础组件：glam / sdl2 / bevy / amethyst/ laminar/ ggez / tetra/ hecs/ simdeez/ rg3d / [rapier](https://github.com/dimforge/ra pier) / RustcraftNestadia/ naga/ Bevy Retro/ Texture Generator / building_blocks / rpg-cli / macroquad
TUI/GUI 开发：winit / gtk / egui / imgui / yew / cursive / iced / fontdue / tauri / druid
</code></pre>
<h3><a class="header" href="#知名的-rust-项目产品" id="知名的-rust-项目产品">知名的 Rust 项目/产品</a></h3>
<ul>
<li>TiKV： HTAP 数据库 TiDB 的 KV 存储</li>
<li>Databend：The Modern Cloud Data Warehouse for Everyone.</li>
<li>Yew：是一个设计先进的 Rust 框架，目的是使用 WebAssembly 来创建多线程的前端 web 应用。</li>
<li>Apache Arrow-rs</li>
<li>飞书</li>
<li>RustDesk</li>
<li>Dropbox</li>
</ul>
<h3><a class="header" href="#试试在线-playgroud" id="试试在线-playgroud">试试在线 Playgroud</a></h3>
<p>Rust 官方在线工具: <a href="https://play.rust-lang.org/">https://play.rust-lang.org/</a></p>
<h2><a class="header" href="#ref" id="ref">Ref</a></h2>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/Rust">Rust 维基百科</a></li>
<li><a href="https://m.runoob.com/rust/rust-tutorial.html">Rust 菜鸟教程</a></li>
<li><a href="https://www.zhihu.com/question/30407715/answer/1956026359">知乎问题：如何看待 Rust 的应用前景？-张汉东</a></li>
</ul>
<p>操作环境：</p>
<pre><code class="language-txt">    操作系统： macOS Monterey 12.2.1
    Mac 版本： Apple M1、RAM 16G
    Rust 版本：1.59.0 (9d1b2106e 2022-02-23)
</code></pre>
<p>资料：</p>
<ul>
<li><a href="https://www.bilibili.com/video/BV1mg411778g?spm_id_from=333.999.0.0">Databend Rust 公开课</a></li>
<li><a href="https://course.rs">Rsut 语言圣经</a></li>
<li><a href="https://m.runoob.com/rust/rust-tutorial.html">菜鸟教程 Rust</a></li>
<li><a href="https://kaisery.github.io/trpl-zh-cn/">The Rust Programming Language(中文版)</a></li>
<li><a href="https://course.rs/cargo/reference/specify-deps.html">Cargo.toml 中指定依赖</a></li>
<li><a href="https://course.rs/cargo/guide/package-layout.html">cargo 项目结构规范</a></li>
<li><a href="https://course.rs/practice/naming.html">Rust 命名规范</a></li>
</ul>
<h1><a class="header" href="#走进-rust" id="走进-rust">走进 Rust</a></h1>
<blockquote>
<p>今日英语：Human life is limited,and serving the people is infinited.</p>
</blockquote>
<p>这个章节的主要学习了 Rust 环境的安装，配置了IDE以及 Cargo 包管理，运行了第一个“Hello World！”，算是真正开始 Rust 的学习！</p>
<p>目录：</p>
<ul>
<li><a href="1-into-rust/./install.html">安装 Rust 环境</a></li>
<li><a href="1-into-rust/./ide.html">安装 IDE：VS Code</a></li>
<li><a href="1-into-rust/./cargo.html">包管理：Cargo</a></li>
<li><a href="1-into-rust/./hello-word.html">Hello world</a></li>
</ul>
<h1><a class="header" href="#安装-rust-环境" id="安装-rust-环境">安装 Rust 环境</a></h1>
<blockquote>
<p>Mac 上安装 Rust 方式可以选择 brew 和官方安装方式，这里推荐<a href="https://www.rust-lang.org/tools/install">官方的安装方法</a></p>
</blockquote>
<h2><a class="header" href="#安装" id="安装">安装</a></h2>
<pre><code class="language-shell">siu@localhost ~ % curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre>
<h2><a class="header" href="#检查是否安装成功" id="检查是否安装成功">检查是否安装成功</a></h2>
<pre><code class="language-shell">siu@localhost ~ % rustc -V
rustc 1.59.0 (9d1b2106e 2022-02-23)
siu@localhost ~ % cargo -V
cargo 1.59.0 (49d8809dc 2022-02-10)
</code></pre>
<h2><a class="header" href="#卸载" id="卸载">卸载</a></h2>
<pre><code class="language-shell">siu@localhost ~ % rustup self uninstall
</code></pre>
<h1><a class="header" href="#安装配置-ide" id="安装配置-ide">安装配置 IDE</a></h1>
<h2><a class="header" href="#官方推荐的-ide" id="官方推荐的-ide">官方推荐的 IDE</a></h2>
<p><a href="https://www.rust-lang.org/zh-CN/tools">官方</a>推荐的 IDE 如下：</p>
<p><img src="1-into-rust/./assets/rust-ide.png" alt="rust-ide" /></p>
<h2><a class="header" href="#安装-vs-code" id="安装-vs-code">安装 VS Code</a></h2>
<p><a href="https://code.visualstudio.com/Download">下载地址</a>
<img src="1-into-rust/./assets/vscode-download.png" alt="vscode" /></p>
<h3><a class="header" href="#配置-rust-插件" id="配置-rust-插件">配置 Rust 插件</a></h3>
<p><img src="1-into-rust/./assets/rust-analyzer.png" alt="rust-analyzer" /></p>
<p>其它插件：</p>
<table><thead><tr><th>插件名</th><th>作用</th></tr></thead><tbody>
<tr><td>Better TOML</td><td>toml 文件插件</td></tr>
<tr><td>Error Lens</td><td>错误展示更友好</td></tr>
<tr><td>CodeLLDB</td><td>debugger 插件</td></tr>
</tbody></table>
<h1><a class="header" href="#包管理cargo" id="包管理cargo">包管理：Cargo</a></h1>
<p>   为了让开发者更方便地相互协作，<strong>Rust</strong> 提供了非常好用的包管理器 Cargo。Rust 代码是以包（crate）为编译和分发单位的，Cargo 提供了很多命令，方便开发者创建、构建、分发、管理自己的包。</p>
<p>   Cargo 就像 Node.js/npm、Java/Maven 一样。</p>
<h2><a class="header" href="#动手试试-cargo" id="动手试试-cargo">动手试试 Cargo</a></h2>
<h3><a class="header" href="#创建项目cargo-new" id="创建项目cargo-new">创建项目：cargo new</a></h3>
<pre><code class="language-shell">siu@localhost code % cd hello_world 
siu@localhost hello_world % cargo run
   Compiling hello_world v0.1.0 (/Users/siu/Desktop/LearnRustTheHardWay/code/hello_world)
    Finished dev [unoptimized + debuginfo] target(s) in 0.94s
     Running `target/debug/hello_world`
Hello, world!
</code></pre>
<p>项目结构：</p>
<pre><code class="language-shell">.
├── Cargo.toml
└── src
    └── main.rs
</code></pre>
<h3><a class="header" href="#运行cargo-run" id="运行cargo-run">运行：cargo run</a></h3>
<pre><code class="language-shell">siu@localhost code % cd hello_world 
siu@localhost hello_world % cargo run
   Compiling hello_world v0.1.0 (/Users/siu/Desktop/LearnRustTheHardWay/code/hello_world)
    Finished dev [unoptimized + debuginfo] target(s) in 0.94s
     Running `target/debug/hello_world`
Hello, world!
</code></pre>
<h4><a class="header" href="#编译后再运行cargo-build" id="编译后再运行cargo-build">编译后，再运行：cargo build</a></h4>
<p>编译：</p>
<pre><code class="language-shell">siu@localhost hello_world % cargo build
    Finished dev [unoptimized + debuginfo] target(s) in 0.01s
</code></pre>
<p>运行：</p>
<pre><code class="language-shell">siu@localhost hello_world % ./target/debug/hello_world 
Hello, world!
</code></pre>
<h4><a class="header" href="#编译优化--release" id="编译优化--release">编译优化：--release</a></h4>
<p>默认运行的是<code>debug</code>模式，Rust 编译器不会做任何的优化，<code>--release</code>可以做编译优化。</p>
<ul>
<li>cargo build --release</li>
<li>cargo run --release</li>
</ul>
<p>编译：</p>
<pre><code class="language-shell">siu@localhost hello_world % cargo build --release
   Compiling hello_world v0.1.0 (/Users/siu/Desktop/LearnRustTheHardWay/code/hello_world)
    Finished release [optimized] target(s) in 0.61s
</code></pre>
<p>运行：</p>
<pre><code class="language-shell">siu@localhost hello_world % ./target/release/hello_world 
Hello, world!
</code></pre>
<h4><a class="header" href="#编译检查cargo-check" id="编译检查cargo-check">编译检查：cargo check</a></h4>
<p>   Rust 编译速度相对会比较慢（Golang），当项目较大时，可以使用 <code>cargo check</code>来快速验证代码是否能通过编译。</p>
<pre><code class="language-shell">siu@localhost hello_world % cargo check
    Checking hello_world v0.1.0 (/Users/siu/Desktop/LearnRustTheHardWay/code/hello_world)
    Finished dev [unoptimized + debuginfo] target(s) in 0.46s
</code></pre>
<h2><a class="header" href="#cargotoml" id="cargotoml">Cargo.toml</a></h2>
<p><code>Cargo.toml</code>  是 <code>cargo</code> 的依赖库配置文件，类似 Java/.pom，Golang/go.mod 文件。</p>
<blockquote>
<p>在项目中看到一个<code>Cargo.lock</code> 文件，它是 <code>cargo</code> 根据同一项目的 <code>toml</code> 文件生成的，通常不需要关注，类似 Golang/go.sum 。</p>
<p>只有当项目是一个可运行的程序时才把<code>Cargo.lock</code> 放到 git 仓库；如果是一个依赖库项目则不需要。</p>
</blockquote>
<h3><a class="header" href="#toml" id="toml">TOML</a></h3>
<p>TOML 是一种旨在成为一个小规模、易于使用的语义化的配置文件格式，它被设计为可以无二义性的转换为一个哈希表。</p>
<p>“TOML”这个名字是“Tom's Obvious, Minimal Language（汤姆的浅显的、极简的语言）”的首字母略写词。“Tom”指它的作者Tom Preston-Werner。</p>
<p>TOML已在一些软件工程中使用，并且很多编程语言都支持TOML格式数据的解析。</p>
<pre><code class="language-txt">来源：维基百科 https://zh.wikipedia.org/wiki/TOML
</code></pre>
<h3><a class="header" href="#cargotoml-文件配置" id="cargotoml-文件配置">Cargo.toml 文件配置</a></h3>
<pre><code class="language-toml">[package]
name = &quot;hello_world&quot;
version = &quot;0.1.0&quot;
edition = &quot;2021&quot;

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
</code></pre>
<h4><a class="header" href="#package" id="package">[package]</a></h4>
<p>   <code>[package]</code> 中记录了项目的描述信息：</p>
<ul>
<li><code>name</code>: 项目名称</li>
<li><code>version</code>: 项目版本号，参考 <a href="https://semver.org/lang/zh-CN/">Semver 2.0.0</a></li>
<li><code>edition</code>: Rust 大版本</li>
</ul>
<h3><a class="header" href="#dependencies" id="dependencies">[dependencies]</a></h3>
<p>三种方式添加依赖：</p>
<ul>
<li>基于 Rust 官方仓库 <code>crates.io</code>，通过版本说明来描述</li>
<li>基于项目源代码的 git 仓库地址，通过 URL 来描述</li>
<li>基于本地项目的绝对路径或者相对路径，通过类 Unix 模式的路径来描述</li>
</ul>
<pre><code class="language-toml">[dependencies]
rand = &quot;0.3&quot;
hammer = { version = &quot;0.5.0&quot;}
color = { git = &quot;https://github.com/bjz/color-rs&quot; }
geometry = { path = &quot;crates/geometry&quot; }
</code></pre>
<h2><a class="header" href="#cartesio" id="cartesio">cartes.io</a></h2>
<p>   cartes.io 相当于 Rust 的一个官方公共仓库，很多基础库和框架都会以 包（crate） 的方式发布到 <a href="https://crates.io/">crates.io</a> 。可以在上面找到别人已经开发好的库，也可以发布自己的开发的库。</p>
<h1><a class="header" href="#helloworld" id="helloworld">Hello,world!</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    println!(&quot;Hello, world!&quot;);
}
</code></pre></pre>
<h2><a class="header" href="#笨方法学-rust-learn-rust-the-hard-way-1" id="笨方法学-rust-learn-rust-the-hard-way-1">笨方法学 Rust （Learn Rust The Hard Way）</a></h2>
<blockquote>
<p>有几个问题可能需要先自我总结一下。</p>
</blockquote>
<h2><a class="header" href="#为什么开始学-rust--1" id="为什么开始学-rust--1">为什么开始学 Rust ？</a></h2>
<p>   2019 年疫情😷刚开始时，有一段时间开始思考技术上的需要体系化的深入，但是磨磨蹭蹭一两年还是没有任何”建树“，还是那个 CURD boy，总想改变又没有任何改变；本职工作上虽然有一些沉淀：包括团队、Java 后端、架构设计、CI&amp;Devops ，但是感觉还是需要认真回头再学学下编程语言。</p>
<p>   2020 年开始对 k8s 及相关纳管云平台的调研，特别是关注到 KubeSphere 这个项目，开始对想着做一些 Patch 工作，能更深入的了解 k8s、Cloud Native、Saas，但是还是受限于技能，对 go 等并不熟悉，只参与了一些文档 SIG 的工作，提提 ISSUE；去年（2021）开始，有一段时间学习了 go 的一些知识，并没有坚持很长时间，下半年开始对数仓的选型调研，了解到 TiDB/TiKV、Databend，才真正开始关注 Rust。</p>
<p>为什么开始学 Rust ？</p>
<ul>
<li>首先可能是一个 flag</li>
<li>除了工作之外，想选一个兴趣的语言</li>
<li>开源社区的影响，很多关注的项目是用 Rust 开发的</li>
<li>也许这也是一个“饭碗”🥣</li>
<li>为什么不是 go，大概是因为 GC </li>
</ul>
<h2><a class="header" href="#笨方法-1" id="笨方法-1">笨方法？</a></h2>
<ul>
<li>基础弱；除了熟悉 Java 平常接触的也只有 Shell、Python，不熟悉 Go、C++</li>
<li>还是一个 flag；注定要走一个 Hard way：希望能坚持 ✊</li>
<li>从基础到体系；站在一个初学者角度，摒弃之前的语言先入为主的影响，从最基础开始学习</li>
</ul>
<h2><a class="header" href="#这是一本书-1" id="这是一本书-1">这是一本书？</a></h2>
<p>   当然这不是一本书，可能更多是一个笔记📒；但确实会花很大的心思去写一些 Demo、记录一些学习的过程。这些都会在这里分享。</p>
<p>   特别相信一句话：There is a big difference between knowing the way and walking the way。</p>
<p>   所以还是需要自己走一遍。</p>
<h2><a class="header" href="#笨方法学-rust-learn-rust-the-hard-way-2" id="笨方法学-rust-learn-rust-the-hard-way-2">笨方法学 Rust （Learn Rust The Hard Way）</a></h2>
<blockquote>
<p>有几个问题可能需要先自我总结一下。</p>
</blockquote>
<h2><a class="header" href="#为什么开始学-rust--2" id="为什么开始学-rust--2">为什么开始学 Rust ？</a></h2>
<p>   2019 年疫情😷刚开始时，有一段时间开始思考技术上的需要体系化的深入，但是磨磨蹭蹭一两年还是没有任何”建树“，还是那个 CURD boy，总想改变又没有任何改变；本职工作上虽然有一些沉淀：包括团队、Java 后端、架构设计、CI&amp;Devops ，但是感觉还是需要认真回头再学学下编程语言。</p>
<p>   2020 年开始对 k8s 及相关纳管云平台的调研，特别是关注到 KubeSphere 这个项目，开始对想着做一些 Patch 工作，能更深入的了解 k8s、Cloud Native、Saas，但是还是受限于技能，对 go 等并不熟悉，只参与了一些文档 SIG 的工作，提提 ISSUE；去年（2021）开始，有一段时间学习了 go 的一些知识，并没有坚持很长时间，下半年开始对数仓的选型调研，了解到 TiDB/TiKV、Databend，才真正开始关注 Rust。</p>
<p>为什么开始学 Rust ？</p>
<ul>
<li>首先可能是一个 flag</li>
<li>除了工作之外，想选一个兴趣的语言</li>
<li>开源社区的影响，很多关注的项目是用 Rust 开发的</li>
<li>也许这也是一个“饭碗”🥣</li>
<li>为什么不是 go，大概是因为 GC </li>
</ul>
<h2><a class="header" href="#笨方法-2" id="笨方法-2">笨方法？</a></h2>
<ul>
<li>基础弱；除了熟悉 Java 平常接触的也只有 Shell、Python，不熟悉 Go、C++</li>
<li>还是一个 flag；注定要走一个 Hard way：希望能坚持 ✊</li>
<li>从基础到体系；站在一个初学者角度，摒弃之前的语言先入为主的影响，从最基础开始学习</li>
</ul>
<h2><a class="header" href="#这是一本书-2" id="这是一本书-2">这是一本书？</a></h2>
<p>   当然这不是一本书，可能更多是一个笔记📒；但确实会花很大的心思去写一些 Demo、记录一些学习的过程。这些都会在这里分享。</p>
<p>   特别相信一句话：There is a big difference between knowing the way and walking the way。</p>
<p>   所以还是需要自己走一遍。</p>
<h2><a class="header" href="#笨方法学-rust-learn-rust-the-hard-way-3" id="笨方法学-rust-learn-rust-the-hard-way-3">笨方法学 Rust （Learn Rust The Hard Way）</a></h2>
<blockquote>
<p>有几个问题可能需要先自我总结一下。</p>
</blockquote>
<h2><a class="header" href="#为什么开始学-rust--3" id="为什么开始学-rust--3">为什么开始学 Rust ？</a></h2>
<p>   2019 年疫情😷刚开始时，有一段时间开始思考技术上的需要体系化的深入，但是磨磨蹭蹭一两年还是没有任何”建树“，还是那个 CURD boy，总想改变又没有任何改变；本职工作上虽然有一些沉淀：包括团队、Java 后端、架构设计、CI&amp;Devops ，但是感觉还是需要认真回头再学学下编程语言。</p>
<p>   2020 年开始对 k8s 及相关纳管云平台的调研，特别是关注到 KubeSphere 这个项目，开始对想着做一些 Patch 工作，能更深入的了解 k8s、Cloud Native、Saas，但是还是受限于技能，对 go 等并不熟悉，只参与了一些文档 SIG 的工作，提提 ISSUE；去年（2021）开始，有一段时间学习了 go 的一些知识，并没有坚持很长时间，下半年开始对数仓的选型调研，了解到 TiDB/TiKV、Databend，才真正开始关注 Rust。</p>
<p>为什么开始学 Rust ？</p>
<ul>
<li>首先可能是一个 flag</li>
<li>除了工作之外，想选一个兴趣的语言</li>
<li>开源社区的影响，很多关注的项目是用 Rust 开发的</li>
<li>也许这也是一个“饭碗”🥣</li>
<li>为什么不是 go，大概是因为 GC </li>
</ul>
<h2><a class="header" href="#笨方法-3" id="笨方法-3">笨方法？</a></h2>
<ul>
<li>基础弱；除了熟悉 Java 平常接触的也只有 Shell、Python，不熟悉 Go、C++</li>
<li>还是一个 flag；注定要走一个 Hard way：希望能坚持 ✊</li>
<li>从基础到体系；站在一个初学者角度，摒弃之前的语言先入为主的影响，从最基础开始学习</li>
</ul>
<h2><a class="header" href="#这是一本书-3" id="这是一本书-3">这是一本书？</a></h2>
<p>   当然这不是一本书，可能更多是一个笔记📒；但确实会花很大的心思去写一些 Demo、记录一些学习的过程。这些都会在这里分享。</p>
<p>   特别相信一句话：There is a big difference between knowing the way and walking the way。</p>
<p>   所以还是需要自己走一遍。</p>
<h2><a class="header" href="#笨方法学-rust-learn-rust-the-hard-way-4" id="笨方法学-rust-learn-rust-the-hard-way-4">笨方法学 Rust （Learn Rust The Hard Way）</a></h2>
<blockquote>
<p>有几个问题可能需要先自我总结一下。</p>
</blockquote>
<h2><a class="header" href="#为什么开始学-rust--4" id="为什么开始学-rust--4">为什么开始学 Rust ？</a></h2>
<p>   2019 年疫情😷刚开始时，有一段时间开始思考技术上的需要体系化的深入，但是磨磨蹭蹭一两年还是没有任何”建树“，还是那个 CURD boy，总想改变又没有任何改变；本职工作上虽然有一些沉淀：包括团队、Java 后端、架构设计、CI&amp;Devops ，但是感觉还是需要认真回头再学学下编程语言。</p>
<p>   2020 年开始对 k8s 及相关纳管云平台的调研，特别是关注到 KubeSphere 这个项目，开始对想着做一些 Patch 工作，能更深入的了解 k8s、Cloud Native、Saas，但是还是受限于技能，对 go 等并不熟悉，只参与了一些文档 SIG 的工作，提提 ISSUE；去年（2021）开始，有一段时间学习了 go 的一些知识，并没有坚持很长时间，下半年开始对数仓的选型调研，了解到 TiDB/TiKV、Databend，才真正开始关注 Rust。</p>
<p>为什么开始学 Rust ？</p>
<ul>
<li>首先可能是一个 flag</li>
<li>除了工作之外，想选一个兴趣的语言</li>
<li>开源社区的影响，很多关注的项目是用 Rust 开发的</li>
<li>也许这也是一个“饭碗”🥣</li>
<li>为什么不是 go，大概是因为 GC </li>
</ul>
<h2><a class="header" href="#笨方法-4" id="笨方法-4">笨方法？</a></h2>
<ul>
<li>基础弱；除了熟悉 Java 平常接触的也只有 Shell、Python，不熟悉 Go、C++</li>
<li>还是一个 flag；注定要走一个 Hard way：希望能坚持 ✊</li>
<li>从基础到体系；站在一个初学者角度，摒弃之前的语言先入为主的影响，从最基础开始学习</li>
</ul>
<h2><a class="header" href="#这是一本书-4" id="这是一本书-4">这是一本书？</a></h2>
<p>   当然这不是一本书，可能更多是一个笔记📒；但确实会花很大的心思去写一些 Demo、记录一些学习的过程。这些都会在这里分享。</p>
<p>   特别相信一句话：There is a big difference between knowing the way and walking the way。</p>
<p>   所以还是需要自己走一遍。</p>
<h2><a class="header" href="#笨方法学-rust-learn-rust-the-hard-way-5" id="笨方法学-rust-learn-rust-the-hard-way-5">笨方法学 Rust （Learn Rust The Hard Way）</a></h2>
<blockquote>
<p>有几个问题可能需要先自我总结一下。</p>
</blockquote>
<h2><a class="header" href="#为什么开始学-rust--5" id="为什么开始学-rust--5">为什么开始学 Rust ？</a></h2>
<p>   2019 年疫情😷刚开始时，有一段时间开始思考技术上的需要体系化的深入，但是磨磨蹭蹭一两年还是没有任何”建树“，还是那个 CURD boy，总想改变又没有任何改变；本职工作上虽然有一些沉淀：包括团队、Java 后端、架构设计、CI&amp;Devops ，但是感觉还是需要认真回头再学学下编程语言。</p>
<p>   2020 年开始对 k8s 及相关纳管云平台的调研，特别是关注到 KubeSphere 这个项目，开始对想着做一些 Patch 工作，能更深入的了解 k8s、Cloud Native、Saas，但是还是受限于技能，对 go 等并不熟悉，只参与了一些文档 SIG 的工作，提提 ISSUE；去年（2021）开始，有一段时间学习了 go 的一些知识，并没有坚持很长时间，下半年开始对数仓的选型调研，了解到 TiDB/TiKV、Databend，才真正开始关注 Rust。</p>
<p>为什么开始学 Rust ？</p>
<ul>
<li>首先可能是一个 flag</li>
<li>除了工作之外，想选一个兴趣的语言</li>
<li>开源社区的影响，很多关注的项目是用 Rust 开发的</li>
<li>也许这也是一个“饭碗”🥣</li>
<li>为什么不是 go，大概是因为 GC </li>
</ul>
<h2><a class="header" href="#笨方法-5" id="笨方法-5">笨方法？</a></h2>
<ul>
<li>基础弱；除了熟悉 Java 平常接触的也只有 Shell、Python，不熟悉 Go、C++</li>
<li>还是一个 flag；注定要走一个 Hard way：希望能坚持 ✊</li>
<li>从基础到体系；站在一个初学者角度，摒弃之前的语言先入为主的影响，从最基础开始学习</li>
</ul>
<h2><a class="header" href="#这是一本书-5" id="这是一本书-5">这是一本书？</a></h2>
<p>   当然这不是一本书，可能更多是一个笔记📒；但确实会花很大的心思去写一些 Demo、记录一些学习的过程。这些都会在这里分享。</p>
<p>   特别相信一句话：There is a big difference between knowing the way and walking the way。</p>
<p>   所以还是需要自己走一遍。</p>
<h2><a class="header" href="#笨方法学-rust-learn-rust-the-hard-way-6" id="笨方法学-rust-learn-rust-the-hard-way-6">笨方法学 Rust （Learn Rust The Hard Way）</a></h2>
<blockquote>
<p>有几个问题可能需要先自我总结一下。</p>
</blockquote>
<h2><a class="header" href="#为什么开始学-rust--6" id="为什么开始学-rust--6">为什么开始学 Rust ？</a></h2>
<p>   2019 年疫情😷刚开始时，有一段时间开始思考技术上的需要体系化的深入，但是磨磨蹭蹭一两年还是没有任何”建树“，还是那个 CURD boy，总想改变又没有任何改变；本职工作上虽然有一些沉淀：包括团队、Java 后端、架构设计、CI&amp;Devops ，但是感觉还是需要认真回头再学学下编程语言。</p>
<p>   2020 年开始对 k8s 及相关纳管云平台的调研，特别是关注到 KubeSphere 这个项目，开始对想着做一些 Patch 工作，能更深入的了解 k8s、Cloud Native、Saas，但是还是受限于技能，对 go 等并不熟悉，只参与了一些文档 SIG 的工作，提提 ISSUE；去年（2021）开始，有一段时间学习了 go 的一些知识，并没有坚持很长时间，下半年开始对数仓的选型调研，了解到 TiDB/TiKV、Databend，才真正开始关注 Rust。</p>
<p>为什么开始学 Rust ？</p>
<ul>
<li>首先可能是一个 flag</li>
<li>除了工作之外，想选一个兴趣的语言</li>
<li>开源社区的影响，很多关注的项目是用 Rust 开发的</li>
<li>也许这也是一个“饭碗”🥣</li>
<li>为什么不是 go，大概是因为 GC </li>
</ul>
<h2><a class="header" href="#笨方法-6" id="笨方法-6">笨方法？</a></h2>
<ul>
<li>基础弱；除了熟悉 Java 平常接触的也只有 Shell、Python，不熟悉 Go、C++</li>
<li>还是一个 flag；注定要走一个 Hard way：希望能坚持 ✊</li>
<li>从基础到体系；站在一个初学者角度，摒弃之前的语言先入为主的影响，从最基础开始学习</li>
</ul>
<h2><a class="header" href="#这是一本书-6" id="这是一本书-6">这是一本书？</a></h2>
<p>   当然这不是一本书，可能更多是一个笔记📒；但确实会花很大的心思去写一些 Demo、记录一些学习的过程。这些都会在这里分享。</p>
<p>   特别相信一句话：There is a big difference between knowing the way and walking the way。</p>
<p>   所以还是需要自己走一遍。</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
